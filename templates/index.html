{% extends "base.html" %}
{% load static %}

{% block title %}
{{ pageTitle }}
{% endblock %}

<!-- <link rel="stylesheet" href="{% static 'css/base.css' %}" /> -->

{% block content %}

<!-- <script type="text/javascript">
var elem = document.getElementById("contenuto");
var this_url = "{{this_url}}";
var referer_view ="{{referer_view}}";

// document.addEventListener("DOMContentLoaded", function(event) { 
//             var scrollpos = localStorage.getItem('scrollpos');
//             // if (this_url == referer_view){
//             // if (scrollpos) window.scrollTo(0, scrollpos);
//             // console.log(scrollpos)
//             // }
//             // else{
//             //     window.scrollTo(0, 0);
//             // }
            
//             // if (this_url == referer_view){
//             // if (scrollpos) {
//             // elem.style.top = scrollpos;
            
//             // }
//             // // else{
//             // //     window.scrollTo(0, 0);
//             // // }
//             // }
// };




window.addEventListener("load", provaSet);

 function provaSet(){
    var elem = document.getElementById("contenuto");
    var scrollpos = localStorage.getItem('scrollpos');
    var this_url = "{{this_url}}";
    var referer_view ="{{referer_view}}";
    // if (this_url == referer_view){
    //     if (scrollpos) window.scrollTo(0, scrollpos);
    //         console.log(scrollpos)
    //         }
    //         else{
    //             window.scrollTo(0, 0);
    //         }
            
            if (this_url == referer_view){
            
            if (scrollpos) {
                
            document.getElementById("contenuto").style.top = scrollpos;
            // window.pageYOffset = scrollpos
            window.scroll(0,scrollpos)
            var x = elem.style.width;
            console.log('oh');
            }
            else{
                window.scrollTo(0, 0);
                console.log('stampo questo')
            }
            }



};




        window.addEventListener("scroll", SetScrollY);
        
        function SetScrollY(){
            
            localStorage.setItem('scrollpos', window.scrollY);
            var scrollpos = localStorage.getItem('scrollpos');
            console.log('ho settato', scrollpos);
        };

        window.onbeforeunload = function(e) {
                var scrollpos = localStorage.getItem('scrollpos');
                elem.style.top = scrollpos;
            localStorage.setItem('scrollpos', window.scrollY);
            console.log('elem',elem);
        };



</script> -->

<script type="text/javascript">

document.addEventListener("DOMContentLoaded", provaSet);

 function provaSet(){
    var elem = document.getElementById("contenuto");
    var scrollpos = localStorage.getItem('scrollpos');
    var this_url = "{{this_url}}";
    var referer_view ="{{referer_view}}";
    console.log(this_url);
console.log(referer_view);
    // if (this_url == referer_view){
    //     if (scrollpos) window.scrollTo(0, scrollpos);
    //         console.log(scrollpos)
    //         }
    //         else{
    //             window.scrollTo(0, 0);
    //         }
            
            if (this_url == referer_view){
            
            if (scrollpos) {
                
            document.getElementById("contenuto").style.top = scrollpos;
            // window.pageYOffset = scrollpos
            window.scroll(0,scrollpos)
            var x = elem.style.width;
            console.log('oh');
            }
            else{
                window.scrollTo(0, 0);
                console.log('stampo questo')
            }
            }



};




        window.addEventListener("scroll", SetScrollY);
        
        function SetScrollY(){
            
            localStorage.setItem('scrollpos', window.scrollY);
            var scrollpos = localStorage.getItem('scrollpos');
            console.log('ho settato io', scrollpos);
        };

        window.onbeforeunload = function(e) {
                var scrollpos = localStorage.getItem('scrollpos');
                elem.style.top = scrollpos;
            localStorage.setItem('scrollpos', window.scrollY);
            console.log('elem',elem);
        };



// var Ywas = parseInt(localStorage.getItem("Ywas"));
// window.onload = function(){window.scroll(0, Ywas);};

// //     $(document).ready(function() {
// //     $(document).scrollTop(100);
// // });

// //     $(document).ready(function() {
// //     var Ywas = parseInt(localStorage.getItem("Ywas"));
// //     $(document).scrollTop(Ywas);
// // });

//     var this_url = "{{this_url}}"
//     var referer_view ="{{referer_view}}"

    // if (this_url == referer_view){
    //     console.log('uguale ma non scrolla ma come')
    // window.addEventListener("load", scrollBack);
    // }

    // function scrollBack() {  
    // // if (scrollY) {
    // var Ywas = parseInt(localStorage.getItem("Ywas"));
    // console.log('print Ywas', Ywas)
    // // if (!isNaN(scroll)) {
    //     window.scroll(0, Ywas);
    // // }
    // // }
    // }

</script>


<div><br></div>
<div class="row d-none d-md-block slidesContainer " style="width:100%">
        
        <div class="col-7 m-auto mt-3 bg-white " style="display: flex;height:500px;object-fit:scale-down; background-image: radial-gradient(
      circle at top right,
      red,
      rgb(243, 243, 243) 50%
    );border-radius: 20px;">
        
                        
                        <!-- Full-width images with number and caption text -->
                        <!-- <div class="mySlides mx-auto my-auto" style="height:90%;animation-name: gradFade;animation-duration: .61s; ">
                            
                            <img src="{{producto.image.url}}" class="mx-auto" style="width:100%; height:100%;object-fit:scale-down" >
                            
                        </div> -->
                        {% for product in products %}
                        <div class="mySlides mx-auto my-auto " style="height:90%;width:100%;animation-name: gradFade;animation-duration: .61s; ">
                            <a href="{{product.get_url}}" class="my-auto">
                            <img src="{{ product.image.url }}" class="mx-auto my-auto px-1 d-inline py-3" style=" float:left;width:30%;height:100%;object-fit:scale-down" >
                            <div class="  mx-auto my-auto" style="width:66%;height:99%;float:left;position:relative;top:20px;z-index: 1;overflow-y: scroll;">
                            <h5 class=" mx-auto my-auto text-left  pl-1 pr-5 gradient-text" >{{product.name}}</h5>
                            <p class=" mx-auto my-auto text-left pl-1 pr-3 gradient-text" style="font-size:1.061rem; " >{{product.description}}</p>
                            </div>
                            </a>
                        </div>
                        {% endfor %}
                        

                        <!-- Next and previous buttons -->
                        <a class="prev rounded" onclick="plusSlides(-1)">&#10094;</a>
                        <a class="next rounded" onclick="plusSlides(1)">&#10095;</a>
                        
                        <br>

        </div>
</div>

<!-- ============================================================================================================================================================================================================== -->


<!-- <div class="container text-dark d-none d-md-block mx-auto" style="width:100%;">
<br>
<div id="carouselExampleIndicators" class="carousel slide rounded" data-ride="carousel">
  
  <div class="carousel-inner mx-auto " style="width:100%; height:400px; background-image: radial-gradient(
      circle at top right,
      red,
      rgb(243, 243, 243) 50%
    );border-radius: 20px;">
    <div class="carousel-item active " style="height:100%">
      <img class="d-block h-100 w-100" src="{% static 'img/hero1.jpg' %}" alt="First slide" style="">
    </div>
    {% for product in products %}
    <div class="carousel-item" style="width:80%; height:400px;">
        <a href="{{product.get_url}}"  class="my-3">
            <img class="px-2 d-inline py-3 " src="{{product.image.url}}" alt="{{product.name}}" style="width:25%;height:90%;object-fit:scale-down;position:relative;top:20px;left:100px">
            <div class="carousel-caption d-none d-md-block mt-4" style="width:70%;float:right;position:relative;top:20px;z-index: 1">
                <h5 class=" mx-auto text-left  pl-2 pr-5 gradient-text" >{{product.name}}</h5>
                <p class=" mx-auto text-left pl-2 pr-3 gradient-text" >{{product.description}}</p>
            </div>
        </a>
    </div>
    {% endfor %}
    
  </div>
  <a class="carousel-control-prev " href="#carouselExampleIndicators" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon " aria-hidden="true" ></span>
    <span class="sr-only ">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>
</div> -->





<!-- <div class="continer-fluid" style="">

	<div class="row" style="margin-right:0;">
		<img style="width:100%; height:300px;" src="{% static 'img/hero1.jpg' %}" alt="hero image">
	</div>
</div> -->

	<div class="py-0" style="top:80px;position: sticky;z-index:2;">
		<div class="container" style="">
			<div class="row " style="background: rgba(243,243,243,1);border-radius:20px;">
				
                <div class="col-10 mx-auto my-0 p-1 text-center">
					{% if not new_arrivals_page %}
					<h2 class="text-capitalize font-weight-bold"
						style="background: rgba(243,243,243,1);border-radius:20px">
						{{ callheader }} {{ AnnSort }}
					</h2>
					{% else  %}
					<h2 class="font-weight-bold text-danger" style="background: rgba(243,243,243,1);border-radius:20px">
						{{ callheader }} {{ AnnSort }}
					</h2>
					{% endif %}

                    {%if cart_items %}
                    {% if warnUser %}
                    <p class="text-danger bg-white mx-auto p-2  border border-danger rounded"><b>Please note, since your last visit:</b> {{ warnUser|linebreaksbr }} </p>
                    {% endif %}
                    {% endif %}
					
                </div>

              

			</div>

        
		</div>
        {% if products %}
					<div class="row grad2" id="grad2" style="background:rgba(243,243,243,1);height:50px;" >
                        <div class="col-8 col-sm-5 col-md-4 col-lg-4 col-xl-2  my-auto mx-auto" style="width:50%;height:90%;">
						<div class="row" style="background:rgba(243,243,243,1);height:100%;">
							<div class="col-6 text-center mx-auto">
                                {% if num %}
								<a href="{% url thisView num %}?sort=price&direction={{euroDir}}&euroSortL={{ euroSortL }}&euroSortR{{ euroSortR }}"  class="sorter btt-link d-flex h-100 bg-dark p-1 my-auto mx-auto" style=" border-radius: 15px!important;">
                                {% elif search_term %}
                                <a href="{% url 'products' %}?sort=price&direction={{euroDir}}&q={{search_term}}&euroSortL={{ euroSortL }}&euroSortR{{ euroSortR }}"  class="sorter btt-link d-flex h-100 bg-dark p-1 my-auto mx-auto" style=" border-radius: 15px!important;">
                                {% else %}
                                <a href="{% url thisView %}?sort=price&direction={{euroDir}}&euroSortL={{ euroSortL }}&euroSortR{{ euroSortR }}"  class="sorter btt-link d-flex h-100 bg-dark p-1 my-auto mx-auto" style=" border-radius: 15px!important;display: flex;justify-content: center;">
                                {% endif %}
									<i class="fas fa-euro-sign {{ euroSortL }} text-warning my-auto ml-3 icon" style="width:30%">
                                        <!-- <i class="text-dark" style="visibility: hidden;">.</i> -->
                                    </i>
                                    <i class="text-dark" style="visibility: hidden;">.</i>
                                    <i class="fas fa-chevron-right text-warning mx-autov icon" style="align-self: center;font-size:16px;width:18%">
                                        <!-- <i class="text-dark" style="visibility: hidden;">.</i> -->
                                    </i >
                                    <i class="text-dark " style="visibility: hidden;">.</i>
                                    <i class="fas fa-euro-sign {{ euroSortR }} text-warning my-auto mr-3 icon" style="width:30%"></i>
									
								</a>
							</div>
							<div class=" col-6 text-center mx-auto" >
                                {% if num %}
								<a href="{% url thisView num %}?sort=name&direction={{alphaDir}}&alphaArrow={{alphaArrow}}"  class="sorter btt-link d-flex h-100 bg-dark p-1  mx-auto"  style=" border-radius: 15px!important;">
                                {% elif search_term %}
                                <a href="{% url 'products' %}?sort=name&direction={{alphaDir}}&q={{search_term}}&alphaArrow={{alphaArrow}}"  class="sorter btt-link d-flex h-100 bg-dark p-1  mx-auto"  style=" border-radius: 15px!important;">
                                {% else %}
                                <a href="{% url thisView %}?sort=name&direction={{alphaDir}}&alphaArrow={{alphaArrow}}"  class="sorter btt-link d-flex h-100 bg-dark p-1  mx-auto"  style=" border-radius: 15px!important;">
                                {% endif %}
									<i class="fas {{alphaArrow}} fa-2x text-warning  my-auto mx-auto" ></i>
								</a>
							</div>
						</div>
					</div>
                    </div>
					
					{% endif %}
        
     <div class="row" id="grad1" >
	    </div>   
		

    </div>



    <div class="container" id="products" style="">

		<div class="row mx-auto"  style="">

			{% for product in products %}
			<div class="col-12 mx-auto  col-sm-6 col-lg-4 col-xl-3 pup">

				<div class="card mb-4 " style="border: 3px solid rgb(240, 173, 78);border-radius: 20px;height:91%">
					<div class="mx-auto my-1" style="background-color:inherit;border-radius:20px;height:20px">
						{% if product.latest and not new_arrivals_page %}
						<div class="px-3 my-1"
							style="diplay:inline;background-color:red;color:white;border-radius:20px;margin-top:1px;">
							<p class="my-auto">New Arrival !</p>
                            
						</div>
                        <br>
						{% elif product.best %}
						<div class="px-3 my-1"
							style="diplay:inline;background-color:green;color:white;border-radius:20px;">
							<p class="my-auto">Best Seller !</p>
						</div>

						{% else %}
						<div class="px-1" style="margin-top:1px;visibility: hidden;">
							<p>.</p>
						</div>
						{% endif %}
					</div>
					<div class="p-1 " style="display: flex;height:300px">
						<a href="{{product.get_url}}" style="width:100%;height:100%" class="">
							<img  src="{{product.image.url}}" alt="{{product.name}}" class="card-img-top mx-auto my-1" style="height:100%;object-fit:scale-down">
                            </a>
					</div>
					<div class="" style="background:transparent;border-color:transparent;margin-top:15px;">
						<p class="font-weight-bold px-2 mx-auto my-auto pb-2 "
							style="display: block;height:10px;box-sizing:content-box;font-size:medium">{{product.name}}
						</p>                       
                    
                        {% if not product.stock == 0 %}
                        <p class="text-info font-weight-bold px-2" style="display: flex;justify-content:space-between;padding-top:30px;font-size:16px">
                            
                            

                            {% if cart_items %}
                            <span class="mx-auto my-auto" style="display: flex;justify-content:space-between;width:40%;border: 1px solid rgb(240, 173, 78); border-radius: 20px;height:91%;background-color:#f0f0f0;">

                                {% for aitem in cart_items %}
                                    {% if aitem.product.id == product.id and forloop.last%}
                                        {% if aitem.quantity < product.stock  %}
                                            <!-- <a href="{% url 'add_cart' product.id %}?source=ind" class=" my-auto mx-auto " onclick="SameScroll()"><i class="fas fa-euro-sign" style=""></i></a> -->
                                            <a href="{% url 'add_cart' product.id %}?source=ind" class=" my-auto mx-auto " onclick="SameScroll()"><i class="fas fa-plus" style=""></i></a>
                                            <i class="fas fa-shopping-cart my-auto " style=""></i>
                                        {% endif %}
                                        {% if aitem.quantity == product.stock %}
                                            <i class="fas fa-ban my-auto my-auto mx-auto text-danger" style=""></i>
                                            <i class="fas fa-mobile my-auto mx-auto" style=""></i>
                                        {% endif %}    
                                    {% endif %}
                                {% endfor %}            
                                    

                                {% for aitem in cart_items %}
                                    {% if aitem.product.id == product.id and not forloop.last %}
                                        
                                        {% if aitem.quantity == product.stock %}
                                            <i class="fas fa-ban text-warning my-auto my-auto mx-auto" ></i>
                                            <i class="fas fa-shopping-cart my-auto " style=""></i>
                                        {% endif %}                            

                                        {% if aitem.product.id == product.id and aitem.quantity < product.stock  %}
                                            <a href="{% url 'add_cart' product.id %}?source=ind" class=" my-auto mx-auto text-warning" onclick="SameScroll()"><i class="fas fa-store" style=""></i></a>
                                            <i class="fas fa-shopping-cart my-auto " style=""></i>
                                        {% endif %}                            
                                    {% endif %}                              
                                {% endfor %} 
                                    
                                <!-- {% for i in in_cart %}
                                    {% if product.id == i %}
                                        {% if cart_items.product.i == product.stock %}
                                        <a href="{% url 'add_cart' product.id %}?source=ind" class=" my-auto mx-auto text-dark" onclick="SameScroll()"><i class="fas fa-plus" style=""></i></a>
                                        <i class="fas fa-shopping-cart my-auto " style=""></i>
                                        {% endif %}
                                    {% endif %}
                                {% endfor %} -->

                                
                                {% for i in not_in_cart %} -->
                                    {% if product.id == i %}
                                        <a href="{% url 'add_cart' product.id %}?source=ind" class=" my-auto mx-auto "><i class="fas fa-plus" style=""></i></a>
                                        <!-- <a href="{% url 'add_cart' product.id %}?source=ind" class=" my-auto mx-auto text-warning" onclick="SameScroll()"><i class="fas fa-plus" style=""></i></a> -->
                                        <i class="fas fa-shopping-cart my-auto " style=""></i>
                                        <span class=" my-auto mx-auto"></span>
                                    {% endif %}
                                {% endfor %}
               
                                   
                                
                                

                            {% endif %}



                            {% if not cart_items %}
                            <span class="mx-auto my-auto" style="display: flex;justify-content:space-between;width:40%;border: 1px solid rgb(240, 173, 78); border-radius: 20px;height:91%;background-color:#f0f0f0;">
                            <a href="{% url 'add_cart' product.id %}?source=ind" class=" my-auto mx-auto " onclick="SameScroll()"><i class="fas fa-sms"></i></a>
                            <i class="fas fa-shopping-cart my-auto mx-auto" style=""></i>
                            <span class=" my-auto mx-auto"></span>
                            
                            {% endif %}

                            {% if cart_items %}
                            {% for item in cart_items %}
                            {% if item.product.id == product.id %}
                            <a href="{% url 'cart_remove' product.id %}?source=ind" class=" my-auto mx-auto " onclick="SameScroll()"><i class="fas fa-minus" style=""></i></a>
                            {% endif %}
                            {% endfor %}
                            {% endif %}
                            
                            
                            </span>
                            <span clas="" style="width:50%;text-align:center;"> € {{product.price}}</span>
                        </p>
                        {% else %}
                            <p class="mx-auto text-info font-weight-bold py-2 px-3 my-auto" style="font-size:16px">Out of Stock</p>
                            
                            
                        {% endif %}
                        <br>
					</div>



				</div>
			</div>
			{% endfor %}
		</div>
	</div>

	



	<script type="text/javascript">
    
    // window.addEventListener("scroll", SetY)
    

    window.addEventListener("load", fadeTop);
    window.addEventListener("resize", fadeTop);


    

    function fadeTop() {
		var cbody = document.getElementById("contenuto").offsetHeight;
        var cviewHeight = window.innerHeight; 
        cviewHeight = 1.4*cviewHeight; 
        if (cbody > cviewHeight) {
          document.getElementById("grad1").style.visibility = "visible";
          
        
        } else {
          document.getElementById("grad1").style.visibility = "hidden";
           
        }
    };


    // function SetY(Ywas) {
    // var Ywas =  window.scrollY;
    // localStorage.setItem("Ywas", Ywas);
    
    // }

    // var this_url = "{{this_url}}"
    // var referer_view ="{{referer_view}}"
    // console.log('this_url is', this_url)
    // console.log('referer_view is', referer_view)


    



    
    // var this_url = "{{this_url}}"
    // var referer_view ="{{referer_view}}"
    
    // if (this_url == referer_view){
    // console.log(this_url);
    // console.log(referer_view);
        
    // document.addEventListener("DOMContentLoaded", function(event) { 
    //             var scrollpos = localStorage.getItem('scrollpos');
    //             if (scrollpos) window.scrollTo(0, scrollpos);
    //             sessionStorage.removeItem('scrollpos');
    //         });
    // function SameScroll() {
    // localStorage.setItem('scrollpos', window.scrollY);
    // location.reload(); 
    // }
    
    // }
    // else{
    //     window.scrollTo(0, 0);
    // };


    // $('.carousel').carousel({
    // interval: 2500
    // })














	</script>
    <script type="text/javascript">

var myTimer;
var slideIndex = 1;
var slideshowContainer ;
window.addEventListener("load",function() {
    showSlides(slideIndex);
    myTimer = setInterval(function(){plusSlides(1)}, 4000);
//     slideshowContainer = document.getElementsByClassName('mySlides')[0];


})

slideshowContainer = document.getElementsByClassName('slidesContainer')[0];
slideshowContainer.addEventListener('mouseenter', pause);
    slideshowContainer.addEventListener('mouseleave', resume);


showSlides(slideIndex);

function plusSlides(n) {
//   clearInterval(myTimer);  
  showSlides(slideIndex += n);
}

function currentSlide(n) {
  clearInterval(myTimer);
  myTimer = setInterval(function(){plusSlides(n + 1)}, 4000);  
  showSlides(slideIndex = n);
}

function showSlides(n) {
  var i;
  var slides = document.getElementsByClassName("mySlides");
  
  if (n > slides.length) {slideIndex = 1}    
  if (n < 1) {slideIndex = slides.length}
  for (i = 0; i < slides.length; i++) {
      slides[i].style.display = "none";
      
//    pause = () => {
//   clearInterval(myTimer);
// }

// resume = () =>{
//   clearInterval(myTimer);
//   myTimer = setInterval(function(){plusSlides(slideIndex)}, 4000);
// }   

  };
  
  slides[slideIndex-1].style.display = "block";


};

// pause = () => {
//   clearInterval(myTimer);
//   console.log('stampa mouseIN')
// }

// resume = () =>{
//   clearInterval(myTimer);
//   myTimer = setInterval(function(){plusSlides(slideIndex)}, 4000);
//   console.log('stampa mouseOUT')
// }
function pause()  {
  clearInterval(myTimer);
  console.log('stampa mouseIN')
}

function resume() {
  clearInterval(myTimer);
  myTimer = setInterval(function(){plusSlides(slideIndex)}, 4000);
  console.log('stampa mouseOUT')
} 
</script>


<script type="text/javascript">

$(window).scroll(function(){
    $(".slidesContainer").css("opacity", 1 - $(window).scrollTop() / 250);
  });

</script> 

<script type="text/javascript">
var elmnt = document.getElementsByClassName('pup');
console.log(elmnt);

// var para = document.getElementsByClassName('pup')[0];
// var atts = para.attributes;
// // // var  y = document.getElementsByClassName('pup').getAttribute('offsetTop'); 
// // for (each in elmnt){
// //     var  y = document.getElementsByClassName('pup').offsetTop;
// console.log(atts);
// // }
var opa =1
var pup = document.getElementsByClassName('pup');
$(window).scroll(function(){
    
    var y = $('.grad2').offset().top;
    // var p = $('.pup').offset().top;
    
    // var ph = pup[0].offsetHeight;
    // console.log('height di p', ph);
    // var pup = document.querySelectorAll('.pup')
    // // var p = $(pup).offset().top;
    // for (each in pup){
        // console.log('il grad2',y)
        //  console.log('il pup',pup)
        // console.log(pup.length)
//     }
    for (var i = 0; i < pup.length; i++) {
    var p = $(pup[i]).offset().top;
    var ph = pup[i].offsetHeight;
    var ps = pup[i].scrollHeight;
    var pt = pup[i].offsetTop;
    var otext = pup[i].outerText;
    var qhyps = y+(ps/1000);
//   console.log('questo p qui',p);
//   console.log('height di p', ph);
// console.log('outer text ', otext);

    
//   if (pup[i].offsetTop > y && pup[i].offsetTop < y+(ps/2)){
if (pup[i].offsetTop < y+(ps/15000)){
    var  temp = window.getComputedStyle(pup[i]).getPropertyValue("opacity");
    console.log('il temp',temp)
      console.log('start')
      console.log('IL GRAD2',y)
      console.log('outer text ', otext);
//   console.log('scroll di p', ps);
  console.log('Top di p', pt);
  console.log('il qhyps' , qhyps);
// console.log('opa' , opa);
console.log('stop')
    //   $(pup[i]).css("opacity", 1 - $(document).scrollTop() / 250);
$(pup[i]).css("opacity", temp - .08 );
//                          $(pup[i]).css("opacity", 1- $(window).scrollTop() / 250);
// $(pup[i]).css("opacity", opa);
if (temp < 0) {temp = 0}
//     temp -= .05
//     console.log('il temp',temp)
// }
// else { temp = 0}


  }
//   else if (pup[i].offsetTop > y && pup[i].offsetTop < y+(ps/100)){
  else if (pup[i].offsetTop > y+(ps/15000)) {
    var  temp = window.getComputedStyle(pup[i]).getPropertyValue("opacity");
    if (temp < 1) {
    
//     //   $(pup[i]).css("opacity", 0 + $(window).scrollTop() / 250);
    $(pup[i]).css("opacity", temp - (-.19 )); 
    console.log('il temp tornato su',temp)
    }
//       if (opa < 1) {
//           opa +=  .05
    }
//     // else { opa = 1}
//     //   console.log('opa' , opa);
//   }    
}
  
});
    
    // $(".pup").css("opacity", 1 - $(window).scrollTop() / 250);
//   });
  



</script>


{% endblock %}

    